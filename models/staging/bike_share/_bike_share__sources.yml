version: 2

sources:
  - name: raw
    database: TORONTO_MOBILITY
    schema: RAW
    freshness:
      warn_after:
        count: 45
        period: day
      error_after:
        count: 90
        period: day

    tables:
      - name: bike_share_trips
        loaded_at_field: "try_cast(start_time as timestamp)"
        description: >
          Bike Share Toronto trip records at one row per completed trip.
          Sourced from Toronto Open Data Portal, 2019-present.
          Grain: one row per trip (trip_id).
        columns:
          - name: TRIP_ID
            description: Unique trip identifier from the Bike Share Toronto source system.
          - name: TRIP_DURATION
            description: Duration of the trip in seconds as VARCHAR.
          - name: START_STATION_ID
            description: Numeric identifier of the trip origin station as VARCHAR.
          - name: START_TIME
            description: Trip start timestamp in M/DD/YYYY HH24:MI format as VARCHAR.
          - name: START_STATION_NAME
            description: Display name of the trip origin station.
          - name: END_STATION_ID
            description: Numeric identifier of the trip destination station as VARCHAR.
          - name: END_TIME
            description: Trip end timestamp in M/DD/YYYY HH24:MI format as VARCHAR.
          - name: END_STATION_NAME
            description: Display name of the trip destination station.
          - name: BIKE_ID
            description: Numeric identifier of the bicycle used as VARCHAR.
          - name: USER_TYPE
            description: Membership category of the rider (Annual Member or Casual Member).
