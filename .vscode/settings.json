{
  //===========================================================================
  // TORONTO MOBILITY ANALYTICS — VS Code Workspace Settings
  //===========================================================================
  // AUTHORITY: This configuration enforces CLAUDE.md and DESIGN-DOC.md standards.
  // MODIFICATION: Requires architectural review per CLAUDE.md Section 2.
  //===========================================================================
  //===========================================================================
  // EDITOR: Core behavior
  //===========================================================================
  "editor.formatOnSave": true,
  "editor.formatOnPaste": false,
  "editor.formatOnType": false,
  "editor.codeActionsOnSave": {
    "source.fixAll": "explicit",
    "source.organizeImports": "explicit"
  },
  "editor.rulers": [
    88,
    120
  ],
  "editor.tabSize": 4,
  "editor.insertSpaces": true,
  "editor.trimAutoWhitespace": true,
  "editor.renderWhitespace": "boundary",
  //===========================================================================
  // FILES: Hygiene and performance
  //===========================================================================
  "files.trimTrailingWhitespace": true,
  "files.insertFinalNewline": true,
  "files.trimFinalNewlines": true,
  "files.encoding": "utf8",
  "files.eol": "\n",
  "files.exclude": {
    "**/.git": true,
    "**/.DS_Store": true,
    "**/Thumbs.db": true,
    "**/__pycache__": true,
    "**/*.pyc": true,
    "**/.pytest_cache": true,
    "**/.mypy_cache": true,
    "**/.ruff_cache": true,
    "**/*.egg-info": true
  },
  "files.watcherExclude": {
    "**/target/**": true,
    "**/dbt_packages/**": true,
    "**/dbt_modules/**": true,
    "**/logs/**": true,
    "**/data/**": true,
    "**/.venv/**": true,
    "**/venv/**": true,
    "**/__pycache__/**": true,
    "**/.mypy_cache/**": true,
    "**/.pytest_cache/**": true,
    "**/.ruff_cache/**": true,
    "**/node_modules/**": true,
    "**/edr_target/**": true
  },
  //===========================================================================
  // SEARCH: Exclusions for performance
  //===========================================================================
  "search.exclude": {
    "**/target": true,
    "**/dbt_packages": true,
    "**/dbt_modules": true,
    "**/logs": true,
    "**/data": true,
    "**/.venv": true,
    "**/venv": true,
    "**/__pycache__": true,
    "**/.mypy_cache": true,
    "**/.pytest_cache": true,
    "**/node_modules": true,
    "**/edr_target": true,
    "**/*.lock": true,
    "**/*.parquet": true,
    "**/*.csv": true
  },
  //===========================================================================
  // PYTHON: Ruff (linting + formatting) + mypy (type checking)
  //===========================================================================
  // Per CLAUDE.md §3.3: Python 3.12, 100% type hints, mypy verification
  //===========================================================================
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.ruff": "explicit",
      "source.organizeImports.ruff": "explicit"
    },
    "editor.tabSize": 4
  },
  "python.analysis.typeCheckingMode": "basic",
  "python.analysis.autoImportCompletions": true,
  "python.analysis.diagnosticMode": "workspace",
  // Ruff configuration (native language server - replaces Black, Flake8, isort)
  // Reference: https://docs.astral.sh/ruff/editors/settings/
  "ruff.nativeServer": "on",
  "ruff.lineLength": 88,
  "ruff.lint.select": [
    "E",
    "F",
    "W",
    "I",
    "UP",
    "B",
    "C4",
    "SIM"
  ],
  "ruff.lint.ignore": [
    "E501"
  ],
  "ruff.organizeImports": true,
  "ruff.fixAll": true,
  // mypy configuration (per CLAUDE.md requirement)
  "mypy-type-checker.args": [
    "--strict",
    "--ignore-missing-imports"
  ],
  "mypy-type-checker.reportingScope": "workspace",
  "mypy-type-checker.preferDaemon": true,
  //===========================================================================
  // SQL / dbt: SQLFluff (linting) + sqlfmt (formatting via dbt Power User)
  //===========================================================================
  // Per CLAUDE.md §3.1: Snowflake SQL, sqlfmt formatting, SQLFluff linting
  // Per DESIGN-DOC.md: SQLFluff 3.3+, sqlfmt 0.23+
  //===========================================================================
  "[sql]": {
    "editor.defaultFormatter": "innoverio.vscode-dbt-power-user",
    "editor.formatOnSave": true,
    "editor.tabSize": 4
  },
  "[jinja-sql]": {
    "editor.defaultFormatter": "innoverio.vscode-dbt-power-user",
    "editor.formatOnSave": true,
    "editor.tabSize": 4
  },
  // dbt Power User configuration
  "dbt.enableNewLineagePanel": true,
  "dbt.queryLimit": 500,
  // SQLFluff configuration
  "sqlfluff.dialect": "snowflake",
  "sqlfluff.linter.run": "onSave",
  "sqlfluff.format.enabled": false,
  "sqlfluff.executablePath": "sqlfluff",
  "sqlfluff.config": "${workspaceFolder}/.sqlfluff",
  //===========================================================================
  // YAML: dbt configuration files
  //===========================================================================
  "[yaml]": {
    "editor.defaultFormatter": "redhat.vscode-yaml",
    "editor.formatOnSave": true,
    "editor.tabSize": 2,
    "editor.autoIndent": "full"
  },
  "yaml.format.enable": true,
  "yaml.format.singleQuote": false,
  "yaml.format.bracketSpacing": true,
  "yaml.validate": true,
  "yaml.schemas": {
    "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/dbt_project.json": "dbt_project.yml",
    "https://raw.githubusercontent.com/dbt-labs/dbt-jsonschema/main/schemas/packages.json": "packages.yml"
  },
  //===========================================================================
  // JSON: Configuration files
  //===========================================================================
  "[json]": {
    "editor.defaultFormatter": "vscode.json-language-features",
    "editor.formatOnSave": true,
    "editor.tabSize": 2
  },
  "[jsonc]": {
    "editor.defaultFormatter": "vscode.json-language-features",
    "editor.formatOnSave": true,
    "editor.tabSize": 2
  },
  //===========================================================================
  // MARKDOWN: Documentation
  //===========================================================================
  "[markdown]": {
    "editor.formatOnSave": false,
    "editor.wordWrap": "on",
    "editor.rulers": [
      80,
      120
    ],
    "files.trimTrailingWhitespace": false
  },
  //===========================================================================
  // SHELL: Bash scripts (tools/protocol-zero.sh)
  //===========================================================================
  "[shellscript]": {
    "editor.defaultFormatter": null,
    "editor.formatOnSave": false,
    "editor.tabSize": 4
  },
  "shellcheck.enable": true,
  "shellcheck.run": "onSave",
  "shellcheck.executablePath": "shellcheck",
  "shellcheck.customArgs": [
    "-x"
  ],
  //===========================================================================
  // FILE ASSOCIATIONS: Ensure correct language detection
  //===========================================================================
  "files.associations": {
    "*.sql": "jinja-sql",
    "*.yml": "yaml",
    "*.yaml": "yaml",
    ".sqlfluff": "ini",
    ".sqlfluffignore": "ignore",
    "dbt_project.yml": "yaml",
    "packages.yml": "yaml",
    "profiles.yml": "yaml",
    "profiles.yml.example": "yaml"
  },
  //===========================================================================
  // TERMINAL: Consistent shell behavior
  //===========================================================================
  "terminal.integrated.defaultProfile.osx": "zsh",
  "terminal.integrated.defaultProfile.linux": "bash",
  "terminal.integrated.scrollback": 10000,
  //===========================================================================
  // GIT: Version control settings
  //===========================================================================
  "git.autofetch": false,
  "git.confirmSync": true,
  "git.enableSmartCommit": false,
  "git.postCommitCommand": "none",
  //===========================================================================
  // TELEMETRY: Disabled for privacy
  //===========================================================================
  "telemetry.telemetryLevel": "off",
  "redhat.telemetry.enabled": false
}
